{"version":3,"file":"static/js/315.414abb36.chunk.js","mappings":"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","sources":["API/fetchMovies.js","components/Common/Button.styled.jsx","components/Common/Container.styled.jsx","components/MoviesList/MovieList.styled.jsx","components/MoviesList/MoviesList.jsx","pages/Movies.styled.jsx","components/Common/Notification.styled.jsx","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '19011014b9b53c4fd496d37c25f2b619';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function getTrendings() {\n  try {\n    const fetchData = await axios.get(`trending/movie/week?api_key=${API_KEY}`);\n\n    return fetchData.data.results;\n  } catch (error) {\n    return error;\n  }\n}\n\nexport async function getMovieById(movieId) {\n  try {\n    const fetchData = await axios.get(`movie/${movieId}?api_key=${API_KEY}`);\n\n    // console.log(fetchData);\n\n    return fetchData.data;\n  } catch (error) {\n    return error;\n  }\n}\n\nexport async function getMovieCredits(movieId) {\n  try {\n    const fetchData = await axios.get(\n      `movie/${movieId}/credits?api_key=${API_KEY}`\n    );\n\n    return fetchData.data;\n  } catch (error) {\n    return error;\n  }\n}\n\nexport async function getMovieReviews(movieId) {\n  try {\n    const fetchData = await axios.get(\n      `movie/${movieId}/reviews?api_key=${API_KEY}`\n    );\n\n    return fetchData.data;\n  } catch (error) {\n    return error;\n  }\n}\n\nexport async function getMovieByName(searchQuery, searchPage) {\n  try {\n    const fetchData = await axios.get(\n      `search/movie?api_key=${API_KEY}&query=${searchQuery}&page=${searchPage}&include_adult=false`\n    );\n\n    return fetchData.data.results;\n  } catch (error) {\n    return error;\n  }\n}\n","import styled from '@emotion/styled';\n\nexport const Button = styled.button`\n  /* margin-bottom: 14px; */\n  /* margin-right: 8px; */\n  border-radius: 8px;\n  border: 1px solid grey;\n\n  font-size: 16px;\n\n  :hover,\n  :focus {\n    color: #ffffff;\n    background-color: #eb8596;\n    border: 1px solid #eb8596;\n  }\n`;\n","import styled from '@emotion/styled';\n\nexport const Container = styled.div`\n  padding: 24px;\n`;\n","import styled from '@emotion/styled';\nimport { NavLink } from 'react-router-dom';\n\nexport const MovieList = styled.ul`\n  margin-top: 16px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n`;\n\nexport const ListItem = styled.li`\n  display: flex;\n  align-items: center;\n\n  gap: 4px;\n`;\n\nexport const NavlistLink = styled(NavLink)`\n  padding: 4px;\n\n  &:hover,\n  &:focus {\n    color: #eb8596;\n  }\n`;\n","import PropTypes from 'prop-types';\n// import { Link } from 'react-router-dom';\n\nimport { MovieList, ListItem, NavlistLink } from './MovieList.styled';\nimport { FcFilmReel } from 'react-icons/fc';\n\nexport const MoviesList = ({ moviesList, state }) => (\n  <MovieList>\n    {moviesList.map(movieItem => (\n      <ListItem key={movieItem.id}>\n        <FcFilmReel />\n        <NavlistLink to={`/movies/${movieItem.id}`} state={state}>\n          {movieItem.original_title}\n        </NavlistLink>\n      </ListItem>\n    ))}\n  </MovieList>\n);\n\nMoviesList.propType = {\n  moviesList: PropTypes.array.isRequired,\n  // state: PropTypes.object.isRequired,\n};\n","import styled from '@emotion/styled';\n\nexport const Input = styled.input`\n  width: 240px;\n  height: 22px;\n  margin-right: 8px;\n\n  border: 1px solid #eb8596;\n  border-radius: 8px;\n\n  &:focus,\n  &:hover {\n    outline: 1px solid #eb8596;\n  }\n`;\n","import styled from '@emotion/styled';\n\nexport const Notification = styled.p`\n  /* padding: 4px; */\n  margin-top: 16px;\n\n  font-size: 24px;\n  font-weight: 500;\n`;\n","import { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\n// import { useDebounce } from '../components/Hooks/useDebounce';\nimport { Notify } from 'notiflix';\n\nimport { Container } from '../components/Common/Container.styled';\nimport { Button } from 'components/Common/Button.styled';\nimport { Input } from './Movies.styled';\n\nimport { getMovieByName } from 'API/fetchMovies';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { Loader } from 'components/Loader/Loader';\nimport { Notification } from 'components/Common/Notification.styled';\n\nNotify.init({\n  distance: '20px',\n  cssAnimationStyle: 'from-top',\n  fontSize: '16px',\n  timeout: 1000,\n  backOverlay: true,\n  clickToClose: true,\n});\n\n// const DEBOUNCE_TIME_MS = 500;\n\nexport default function Movies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState('idle');\n\n  const [inputRequest, setInputRequest] = useState(\n    () => searchParams.get('value') ?? ''\n  );\n\n  // const acquiredSearchParam = searchParams.get('value') ?? '';\n\n  useEffect(() => {\n    // console.log('render');\n\n    if (inputRequest === '') {\n      return Notify.success('Please fill what you`re looking for!');\n    }\n\n    setStatus('pending');\n\n    getMovieByName(inputRequest)\n      .then(data => {\n        setMovies(data);\n        setStatus('resolved');\n      })\n      .catch(() => setStatus('rejected'));\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const onInputSubmit = event => {\n    event.preventDefault();\n\n    if (inputRequest === '') {\n      return Notify.success('Please fill what you`re looking for!');\n    }\n\n    setStatus('pending');\n\n    setSearchParams({ value: inputRequest });\n\n    getMovieByName(inputRequest)\n      .then(data => {\n        setMovies(data);\n        setStatus('resolved');\n      })\n      .catch(() => setStatus('rejected'));\n  };\n\n  const onInputUpdate = ({ target }) => {\n    setInputRequest(target.value.trim().toLowerCase());\n\n    // console.log(target.value);\n    // let params = target.value.trim().toLowerCase();\n    // console.log('render');\n    // setSearchParams({ value: params });\n  };\n\n  return (\n    <Container>\n      <form onSubmit={onInputSubmit}>\n        <label>\n          <Input\n            type=\"text\"\n            name=\"findMovie\"\n            onChange={onInputUpdate}\n            value={inputRequest}\n            placeholder=\"Fill your request\"\n          />\n        </label>\n        <Button type=\"submit\">Search</Button>\n      </form>\n\n      {status === 'idle' && (\n        <Notification>Please fill what you`re looking for!</Notification>\n      )}\n      {status === 'pending' && <Loader />}\n      {status === 'rejected' &&\n        Notify.failure('Sorry, something went wrong, please try again later!')}\n      {status === 'resolved' && movies.length === 0 && (\n        <Notification>Sorry, we found no movies</Notification>\n      )}\n      {status === 'resolved' && (\n        <MoviesList moviesList={movies} state={{ from: location }} />\n      )}\n    </Container>\n  );\n}\n"],"names":["API_KEY","getTrendings","axios","fetchData","data","results","getMovieById","movieId","getMovieCredits","getMovieReviews","getMovieByName","searchQuery","searchPage","Button","styled","Container","MovieList","ListItem","NavlistLink","NavLink","MoviesList","moviesList","state","map","movieItem","to","id","original_title","propType","PropTypes","Input","Notification","Movies","useSearchParams","searchParams","setSearchParams","location","useLocation","useState","movies","setMovies","status","setStatus","get","inputRequest","setInputRequest","useEffect","Notify","then","catch","onSubmit","event","preventDefault","value","type","name","onChange","target","trim","toLowerCase","placeholder","Loader","length","from","distance","cssAnimationStyle","fontSize","timeout","backOverlay","clickToClose"],"sourceRoot":""}